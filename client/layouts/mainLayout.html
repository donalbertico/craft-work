<template name="mainLayout">
  <style media="screen">
    img.nav{
      height: 3rem;
      width:  3rem;
      position: relative;
      top: 0.7rem;
    }
    img.side{
      height: 4rem;
      width:  4rem;
      position: relative;
      top: 0.7rem;
    }
    div.login{
      width: 20rem;
    }
    li.account-li{
      height: 3rem;
    }
    a.account-element{
      display: -webkit-box !important;
      height: 4.1rem;
    }
    div.account-label{
      margin-left: 0.7rem;
    }
    a.account-element-side{
      display: -webkit-box !important;
      height: 100% !important;
    }
    div.account-label-side{
      margin-left: 1rem;
      margin-top: 1rem;
    }
    li.side{
      margin-bottom: 0px;
    }
    div.hack{
      height:0px;
    }
  </style>
  <nav>
   <div class="nav-wrapper">
     <a href="/" class="brand-logo right">Craft Work</a>
     <a href="#" data-activates="mobile-nav" class="button-collapse"><i class="material-icons">menu</i></a>
     <ul id="nav-mobile" class="left hide-on-med-and-down">
       {{#if currentUser}}
         <li>
          {{> accountButtonTemplate}}
         </li>
       {{else}}
         <li><a href="#loginModal">Ingresar</a></li>
         <li><a href="/register">Registrarse</a></li>
       {{/if}}
       <li><a href="sass.html">Publicar un producto</a></li>
       <li><a href="sass.html">Buscar<i class="material-icons right">search</i></a></li>
     </ul>
     <ul class="side-nav" id="mobile-nav">
       {{#if currentUser}}
         <li class="row side">
           {{> accountButtonTemplateSide}}
         </li>
       {{else}}
         <li><a href="#loginModal">Ingresar</a></li>
         <li><a href="/register">Registrarse</a></li>
       {{/if}}
       <li><a href="sass.html"><i class="material-icons left">search</i>Buscar</a></li>
       <li><a href="sass.html">Publicar un producto</a></li>
       <li><a href="/logout">Salir</a></li>
     </ul>
   </div>
  </nav>
  <a class="dropdown-button hack" href="#!" data-activates="accountButtonContent"></a>
  <ul id="accountButtonContent" class="dropdown-content">
     <li><a href="/account">mi cuenta</a></li>
     <li><a href="/logout">salir</a></li>
  </ul>
  {{> yield}}
  <div id="loginModal" class="modal login">
    <div class="modal-content">
        {{> login}}
    </div>
  </div>
  {{> footer}}
</template>

<template name="accountButtonTemplate">
  <a class="dropdown-button account-element" href="#!" data-activates="accountButtonContent">
    <img class="circle nav" src="{{currentUser.profile.photo}}">
    <div class="account-label">{{currentUser.profile.name}}<i class="material-icons right">arrow_drop_down</i></div>
  </a>
</template>

<template name="accountButtonTemplateSide">
  <a class="account-element-side" href="/account" data-activates="accountButtonContent">
    <img class="circle side" src="{{currentUser.profile.photo}}">
    <div class="account-label-side">{{currentUser.profile.name}} {{currentUser.profile.lastName}}</div>
  </a>
</template>
