<template name="account">
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAjTF6xXTHgzP9UoIcq_abU1Gb8smcybbA&libraries=places&callback=initAutocomplete"
    async defer></script>
  <script type="text/javascript">
    var placeSearch, autocomplete;
    function initAutocomplete() {
      autocomplete = new google.maps.places.Autocomplete((document.getElementById('city')),{types: ['(cities)'],componentRestrictions: {country: "ec"}});
      autocomplete.addListener('place_changed', fillInAddress);
    }
    function fillInAddress() {
      var place = autocomplete.getPlace();
      if(!place.geometry)return document.getElementById('placeId').value = null;
      document.getElementById('placeId').value = place.place_id;
    }
  </script>
  <style >
    .verified{
      color : green
    }
    .userPic{
      height: 10rem;
    }
  </style>
  <div class="row">
    <div class="col s12 m6">
      <div class="card white darken-1">
        <div class="card-content white">
          <h4>Informacion de Usuario<i class="small material-icons">assignment_ind</i></h4>
          <div class="row">
           <img class="userPic" src="https://storage.googleapis.com/material-design/publish/material_v_11/assets/0B0iWdZjcphyMclptUnowM2t3a3c/components_fp_14_state1.png">
          </div>
          <form id="userInfoForm">
            <div class="file-field input-field">
               <div class="btn">
                 <span>File</span>
                 <input type="file" id="picInput" name="photo">
               </div>
               <div class="file-path-wrapper">
                 <input class="file-path validate" type="text">
               </div>
             </div>
            <div class="row">
              <div class="input-field ">
                <input id="name" type="text" class="validate" required name="name" value="{{currentUser.profile.name}}">
                <label class="active" for="name">Nombre</label>
              </div>
            </div>
            <div class="row">
              <div class="input-field ">
                <input id="lastName" type="text" class="validate" required name="lastName" value="{{currentUser.profile.lastName}}">
                <label class="active" for="lastName">Apellidos</label>
              </div>
            </div>
            <div class="row">
              <div class="input-field ">
                <input id="telephone" type="tel" class="validate" required name="telephone" value="{{currentUser.profile.telephone}}" pattern="[0-9]{1,10}">
                <label class="active" for="telephone" data-error="solo números" data-success="correcto">Teléfono</label>
              </div>
            </div>
            <button id="userInfoFormButton" hidden type="submit" name="action">Submit</button>
          </form>
          <div class="row">
            {{#if email.verified}}
            <span class="col verified">{{email.address}} está verificado <i class="material-icons">done</i></span>
            {{else}}
            <span class="col">{{email.address}}</span>
            <span class="col">Tu correo electronico no esta verificado <a class="verify"><i class="material-icons">email</i></a></span>
            {{/if}}
          </div>
        </div>
        <div class="card-action">
          <a class="userInfoButton">Actualizar</a>
        </div>
      </div>
      <div class="card white darken-1">
        <div class="card-content white">
          <h4>Informacion de Artesano<i class="small material-icons">work</i></h4>
          <form id="craftInfoForm">
            <div class="row">
              <div class="input-field ">
                <input id="name" type="text" class="validate" required name="name" value="{{currentUser.profile.craft.name}}">
                <label class="active" for="name">Nombre artesanal / empresa</label>
              </div>
            </div>
            <div class="row">
              <div class="input-field ">
                <input id="city" type="text" class="validate" required name="city" value="{{currentUser.profile.craft.city}}">
                <label class="active" for="city">Ciudad</label>
              </div>
            </div>
            <div class="row">
              <div class="input-field ">
                <input id="address" type="text" class="validate" required name="address" value="{{currentUser.profile.craft.address}}">
                <label class="active" for="address">Direccion</label>
              </div>
            </div>
            <div class="row">
              <div class="input-field ">
                <input id="movil" type="tel" class="validate" required name="movil" value="{{currentUser.profile.craft.movil}}" pattern="[0-9]{1,10}">
                <label class="active" for="movil" data-error="solo números" data-success="correcto">Teléfono</label>
              </div>
            </div>
            <div class="row">
              <div class="input-field ">
                <input id="telephone" type="tel" class="validate" name="telephone" value="{{currentUser.profile.craft.telephone}}" pattern="[0-9]{1,10}">
                <label class="active" for="telephone" data-error="solo números" data-success="correcto">Teléfono secundario</label>
              </div>
            </div>
            <div class="row">
              <div class="input-field ">
                <input id="webPage" type="tel" class="validate" name="webPage" value="{{currentUser.profile.craft.webPage}}">
                <label class="active" for="webPage">P@gina web</label>
              </div>
            </div>
            <input type="text" name="placeId" hidden id="placeId" class="validate" value="{{currentUser.profile.craft.placeId}}">
            <button id="crafterInfoFormButton" hidden type="submit" name="action">Submit</button>
          </form>
        </div>
        <div class="card-action">
          <a class="crafterInfoButton">Actualizar</a>
        </div>
      </div>
    </div>
  </div>
</template>
